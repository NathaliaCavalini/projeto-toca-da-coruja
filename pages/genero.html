<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="page-title">G√™nero - Toca da Coruja</title>
    <link rel="stylesheet" href="../css/home.css" />
    <link rel="stylesheet" href="../css/genero.css" />
    <link rel="stylesheet" href="../css/toast-notifications.css" />
    <link rel="stylesheet" href="../css/floating-info.css" />
    <link rel="stylesheet" href="../css/genre-nav-fix.css" />
    <link rel="icon" href="../imagens/favicon.png" type="image/x-icon" />

    <!-- Dark mode inicial (executa antes de renderizar) -->
    <script>
      if (localStorage.getItem("theme") === "dark") {
        document.documentElement.classList.add("dark-mode");
        document.body.classList.add("dark-mode");
      }
    </script>
  </head>
  <body data-button-mode="single">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <header class="logo">
        <img
          src="../imagens/logo.png"
          alt="Logo Toca da Coruja"
          class="logo-img"
        />
        <h1>
          Toca <br />
          da Coruja
        </h1>
      </header>

      <section class="menu-section">
        <h2>G√™neros</h2>
        <ul class="menu-list" id="genres-menu">
          <!-- G√™neros ser√£o carregados dinamicamente -->
        </ul>
      </section>

      <!-- Bot√£o Admin (aparece apenas para tatacavalini@gmail.com) -->
      <section class="menu-section" id="admin-section" style="display: none">
        <h2>Administra√ß√£o</h2>
        <ul class="menu-list">
          <li>
            <a
              href="admin.html"
              class="admin-link"
              style="color: var(--color-accent); font-weight: 600"
              ><img
                src="../imagens/administrador-light-mode.png"
                width="20"
                height="20"
                alt="Administrador"
                class="admin-icon admin-icon--light"
              /><img
                src="../imagens/administrador-dark-mode.png"
                width="20"
                height="20"
                alt="Administrador"
                class="admin-icon admin-icon--dark"
              />
              Painel Admin</a
            >
          </li>
        </ul>
      </section>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
      <!-- NAV + A√á√ïES -->
      <nav class="nav-menu" aria-label="Navega√ß√£o principal">
        <a href="home.html"
          ><img
            src="../imagens/livro-modo-claro.png"
            width="20"
            height="20"
            alt=""
            class="livro-fechado livro-fechado--light"
          /><img
            src="../imagens/livro-modo-escuro.png"
            width="20"
            height="20"
            alt=""
            class="livro-fechado livro-fechado--dark"
          />Cat√°logo</a
        >
        <a href="quer_ler.html"
          ><img
            src="../imagens/quer-ler-modo-claro.png"
            width="20"
            height="20"
            alt=""
            class="quer-ler quer-ler--light"
          /><img
            src="../imagens/quer-ler-modo-escuro.png"
            width="20"
            height="20"
            alt=""
            class="quer-ler quer-ler--dark"
          />Quer ler</a
        >
        <a href="ja_lidos.html"
          ><img src="../imagens/ja-lido-modo-claro.png" width="20" height="20" alt="" class="ja-lido ja-lido--light" /><img src="../imagens/ja-lido-modo-escuro.png" width="20" height="20" alt="" class="ja-lido ja-lido--dark" />J√°
          lidos</a
        >
        <a href="favoritos.html"
          ><img
            src="../imagens/favoritos-modo-claro.png"
            width="20"
            height="20"
            alt=""
            class="favoritos favoritos--light"
          /><img
            src="../imagens/favoritos-modo-escuro.png"
            width="20"
            height="20"
            alt=""
            class="favoritos favoritos--dark"
          />Favoritos</a
        >
        <a href="reviews.html"
          ><img
            src="../imagens/reviews-modo-claro.png"
            width="20"
            height="20"
            alt=""
            class="reviews reviews--light"
          /><img
            src="../imagens/reviews-modo-escuro.png"
            width="20"
            height="20"
            alt=""
            class="reviews reviews--dark"
          />Reviews</a
        >

        <form class="search-form" role="search" onsubmit="return false;">
          <img
            src="../imagens/lupa-modo-claro.png"
            width="20"
            height="20"
            alt="Buscar"
            class="search-icon lupa lupa--light"
          /><img
            src="../imagens/lupa-modo-escuro.png"
            width="20"
            height="20"
            alt="Buscar"
            class="search-icon lupa lupa--dark"
          />
          <input type="search" id="search-input" placeholder="Pesquisar..." />
        </form>

        <!-- a√ß√µes (√≠cones) ficam √† direita -->
        <div class="nav-actions" aria-hidden="false">
          <button class="icon-btn" title="Modo escuro">
            <img
              src="../imagens/escuro.png"
              width="20"
              height="20"
              alt="√çcone modo escuro"
            />
          </button>
          <button class="icon-btn" title="Ajuda">
            <img
              src="../imagens/ajuda-light-mode.png"
              width="20"
              height="20"
              alt="√çcone ajuda"
            />
          </button>
        </div>
      </nav>

      <!-- HERO SECTION -->
      <section class="hero-section" aria-labelledby="hero-title">
        <div class="hero-content">
          <h2 id="hero-title" class="hero-title">
            <span id="genre-title">G√™nero</span><br />
            <span class="hero-subtitle">Explore nossa sele√ß√£o de livros</span>
          </h2>
          <div class="hero-owl">ü¶â</div>
          <p class="hero-explore" id="genre-description">
            Descubra hist√≥rias incr√≠veis neste g√™nero
          </p>
        </div>
        <div class="hero-wave"></div>
      </section>

      <!-- GRID DE LIVROS -->
      <section
        class="book-grid"
        aria-label="Livros do g√™nero"
        id="books-container"
      >
        <!-- Livros ser√£o carregados dinamicamente -->
      </section>

      <!-- CARD FLUTUANTE DE INFORMA√á√ÉO -->
      <div class="floating-info-wrapper">
        <button
          class="floating-btn"
          id="info-btn"
          title="Informa√ß√µes sobre g√™neros customizados"
        >
          ‚ÑπÔ∏è
        </button>
        <div class="floating-info-card" id="info-card">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 12px;
            "
          >
            <h4 style="margin: 0; color: var(--color-accent)">
              ü¶â G√™nero Customizado
            </h4>
            <button class="btn-close-info" aria-label="Fechar">√ó</button>
          </div>
          <p style="margin: 8px 0; font-size: 0.95rem; line-height: 1.5">
            Este √© um g√™nero criado especialmente pela administra√ß√£o da Toca da
            Coruja!
          </p>
          <p
            style="
              margin: 8px 0;
              font-size: 0.9rem;
              opacity: 0.8;
              line-height: 1.4;
            "
          >
            Os livros aqui foram cuidadosamente selecionados para expandir nosso
            cat√°logo e oferecer ainda mais op√ß√µes de leitura.
          </p>
          <div
            style="
              margin-top: 12px;
              padding-top: 12px;
              border-top: 1px solid rgba(0, 0, 0, 0.08);
            "
          >
            <small style="opacity: 0.6"
              >üí° Dica: Explore os outros g√™neros no menu lateral!</small
            >
          </div>
        </div>
      </div>
    </main>

    <!-- FOOTER -->
    <footer
      class="footer"
      role="contentinfo"
      aria-label="Rodap√© Toca da Coruja"
    >
      <div class="footer-content">
        <div class="footer-logo" aria-hidden="false">
          <img
            src="../imagens/logo.png"
            alt="Logo Toca da Coruja"
            class="footer-img"
          />
          <div>
            <h3>Toca da Coruja</h3>
            <p>
              Sua biblioteca liter√°ria online ‚Äî livros escolhidos com carinho
              para todos os leitores.
            </p>
          </div>
        </div>

        <div class="footer-links" aria-labelledby="explorar-title">
          <h4 id="explorar-title">Explorar</h4>
          <ul>
            <li><a href="home.html">Cat√°logo</a></li>
            <li><a href="sobre.html">Sobre N√≥s</a></li>
            <li><a href="contato.html">Contato</a></li>
          </ul>
        </div>

        <div class="footer-social">
          <h4>Conecte-se</h4>
          <div
            class="social-icons"
            role="navigation"
            aria-label="Redes sociais"
          >
            <a
              href="https://www.instagram.com/tocadacoruja24?igsh=OWRqaGM0eW53b3My"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="Instagram Toca da Coruja"
            >
              <img src="../imagens/instagram.png" alt="Instagram" />
            </a>
            <a
              href="https://x.com/TocaDaCoruja24"
              target="_blank"
              rel="noopener noreferrer"
              aria-label="X Toca da Coruja"
            >
              <img src="../imagens/twitter.png" alt="X" />
            </a>
          </div>

          <div class="footer-quick" style="margin-top: 10px">
            <div style="font-size: 0.95rem; color: var(--color-text)">
              Email:
              <a
                href="mailto:cavalinilivros@gmail.com"
                style="text-decoration: none; color: inherit; font-weight: 700"
                >cavalinilivros@gmail.com</a
              >
            </div>
            <div class="footer-cta">
              <a
                href="contato.html"
                class="action-btn"
                style="display: inline-block; margin-top: 8px"
                >Fale conosco</a
              >
            </div>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>
          ¬© 2025 Toca da Coruja. Todos os direitos reservados. ‚Äî Feito com ¬∑
          livros ¬∑ caf√©
        </p>
      </div>
    </footer>

    <!-- Script para controlar o card flutuante -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const infoBtn = document.getElementById("info-btn");
        const infoCard = document.getElementById("info-card");
        const closeBtn = document.querySelector(".btn-close-info");

        if (infoBtn && infoCard) {
          infoBtn.addEventListener("click", () => {
            infoCard.classList.toggle("open");
          });

          if (closeBtn) {
            closeBtn.addEventListener("click", (e) => {
              e.stopPropagation();
              infoCard.classList.remove("open");
            });
          }

          // Fechar ao clicar fora
          document.addEventListener("click", (e) => {
            if (!infoCard.contains(e.target) && !infoBtn.contains(e.target)) {
              infoCard.classList.remove("open");
            }
          });
        }
      });
    </script>

    <script type="module" src="../js/theme.js"></script>
    <script type="module" src="../js/user-info-global.js"></script>
    <script type="module" src="../js/admin-button.js"></script>
    <script type="module" src="../js/dynamic-genres-menu.js"></script>

    <script type="module" src="../js/genre-page-loader.js"></script>
    <script type="module" src="../js/book-preview-modal.js"></script>
    <script src="../js/hero-particles.js"></script>
    <script src="../js/toast-notifications.js"></script>
    <script src="../js/fix-catalog-buttons.js"></script>
    <script src="../js/universal-search.js"></script>
    <script src="../js/library-actions-delegated.js"></script>
  </body>
</html>
